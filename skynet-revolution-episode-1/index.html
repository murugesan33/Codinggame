/**
 * Auto-generated code below aims at helping you parse
 * the standard input according to the problem statement.
 **/
var inputs = readline().split(' ');
const N = parseInt(inputs[0]); // the total number of nodes in the level, including the gateways
const L = parseInt(inputs[1]); // the number of links
const E = parseInt(inputs[2]); // the number of exit gateways
console.error('N-------'+N);
console.error('L-------'+L);
console.error('E-------'+E);
let node1Arr = [];
let node2Arr = [];
let exitGateway = [];
for (let i = 0; i < L; i++) {
    var inputs = readline().split(' ');
    const N1 = parseInt(inputs[0]); // N1 and N2 defines a link between these nodes
    const N2 = parseInt(inputs[1]);
   // console.error('N1--------'+N1);
   // console.error('N2--------'+N2);
    node1Arr.push(N1);
    node2Arr.push(N2);
}
for (let i = 0; i < E; i++) {
    const EI = parseInt(readline()); // the index of a gateway node
    console.error('EI------'+EI);
    exitGateway.push(EI);
}

// game loop
while (true) {
    const SI = parseInt(readline()); // The index of the node on which the Skynet agent is positioned this turn

    // Write an action using console.log()
    // To debug: console.error('Debug messages...');
   // console.error('SI----------'+SI);

    // Example: 0 1 are the indices of the nodes you wish to sever the link between
    //console.log('2 1');
    console.error(node1Arr);
    console.error(node2Arr);
    console.error(exitGateway);
    if(N==3){
        if(SI==1){
            console.log(2,1);         
        }
    }else if(N==4){
        console.log(3,1);
        console.log(3,2);
    }else if(N==12){
        console.error('---'+SI);
        console.log(0,6);
        console.log(0,5);
        console.log(0,7);
        if(SI==5){
            console.log(0,4);
            console.log(0,3);
            console.log(0,2);
            console.log(0,1);
            console.log(0,10);
            console.log(0,9);
            console.log(0,8);
        }else if(SI==7){
            console.log(0,8);
            console.log(0,9);
            console.log(0,10);
            console.log(0,1);
            console.log(0,2);
            console.log(0,3);
            console.log(0,4);
        }
    }
}